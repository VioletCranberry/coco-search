# CocoSearch environment configuration template
# Copy this file to .env and adjust values as needed

# =============================================================================
# Optional (has default: postgresql://cocosearch:cocosearch@localhost:5432/cocosearch)
# =============================================================================

# PostgreSQL connection URL for vector storage (uncomment to override default)
# Format: postgresql://user:password@host:port/database
# COCOSEARCH_DATABASE_URL=postgresql://cocosearch:cocosearch@localhost:5432/cocosearch

# =============================================================================
# Optional (has default: http://localhost:11434)
# =============================================================================

# Ollama API URL for embeddings
# COCOSEARCH_OLLAMA_URL=http://localhost:11434

# Embedding model name (must be pulled in Ollama)
# COCOSEARCH_EMBEDDING_MODEL=nomic-embed-text

# =============================================================================
# Optional (default: auto-detected from cocosearch.yaml, git root, or cwd)
# =============================================================================

# Override the index name used by all commands (index, search, stats).
# Precedence: CLI flag (-n/--name/--index) > env var > cocosearch.yaml > auto-detect
# COCOSEARCH_INDEX_NAME=cocosearch

# =============================================================================
# Optional (default: not set — dashboard auto-opens in browser)
# =============================================================================

# Set to "1" to prevent the web dashboard from auto-opening in the browser
# when starting the MCP server or running `cocosearch mcp`
# COCOSEARCH_NO_DASHBOARD=1

# Pin the MCP background dashboard to a specific port (default: random OS-assigned port)
# COCOSEARCH_DASHBOARD_PORT=8080

# =============================================================================
# Optional (default: not set — dashboard shows all indexes)
# =============================================================================

# Set the project path for the MCP server. When set, the dashboard auto-selects
# the matching index and shows a "not indexed" banner if the project isn't indexed yet.
# Automatically set by `cocosearch mcp --project-from-cwd` to the current directory.
# COCOSEARCH_PROJECT_PATH=/path/to/your/project

# =============================================================================
# Optional (default: not set — falls back to $EDITOR, then $VISUAL)
# =============================================================================

# Editor command for "Open in Editor" from the web dashboard.
# Resolved in order: COCOSEARCH_EDITOR → EDITOR → VISUAL.
# Supports line-number jumping for: code, vim, nvim, nano, emacs, subl, idea, etc.
# COCOSEARCH_EDITOR=code

# =============================================================================
# Docker / Client Mode (default: not set — CLI runs locally)
# =============================================================================

# When set, the CLI forwards commands to a remote CocoSearch server over HTTP
# instead of running locally. The host does not need PostgreSQL or Ollama.
# COCOSEARCH_SERVER_URL=http://localhost:3000

# Rewrite paths between host and container when using client mode.
# Format: <host_prefix>:<container_prefix>
# The CLI translates host paths → container paths in requests,
# and container paths → host paths in results.
# COCOSEARCH_PATH_PREFIX=~/GIT:/projects

# =============================================================================
# Docker Compose variables (used in docker-compose.yml)
# =============================================================================

# Server port — shared by the MCP server CLI and Docker Compose (default: 3000).
# The CLI reads this when --port is not specified; Docker Compose uses it for
# both the host port mapping and the container's internal port.
# COCOSEARCH_MCP_PORT=3000

# Host directory to mount into the app container as /projects (default: .).
# Only used by `docker compose --profile app up`.
# PROJECTS_DIR=~/GIT

# Directory to scan for available projects (used by the dashboard's project
# discovery). Shows unindexed projects with an option to index them.
# Defaults to the current directory when using `cocosearch dashboard`.
# Set to /projects in docker-compose.yml. Override with --projects-dir flag.
# COCOSEARCH_PROJECTS_DIR=/projects
