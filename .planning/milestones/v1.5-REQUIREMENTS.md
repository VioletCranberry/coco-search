# Requirements Archive: v1.5 Configuration & Architecture Polish

**Archived:** 2026-02-01
**Status:** SHIPPED

This is the archived requirements specification for v1.5.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: CocoSearch

**Defined:** 2026-01-31
**Core Value:** Semantic code search that runs entirely locally — no data leaves your machine.

## v1.5 Requirements

Requirements for v1.5 Configuration & Architecture Polish. Each maps to roadmap phases.

### Configuration

- [x] **CONFIG-01**: Config values support `${VAR}` syntax for env var substitution
- [x] **CONFIG-02**: Missing env vars in substitution produce clear error messages
- [x] **CONFIG-03**: Env var substitution works in all config sections (indexing, search, embedding)

### Environment Variables

- [x] **ENV-01**: All app env vars use COCOSEARCH_* prefix
- [x] **ENV-02**: Code reads COCOSEARCH_DATABASE_URL (replaces COCOINDEX_DATABASE_URL)
- [x] **ENV-03**: Code reads COCOSEARCH_OLLAMA_URL (replaces OLLAMA_HOST)
- [x] **ENV-04**: .env.example and docker-compose.yml use COCOSEARCH_* vars
- [x] **ENV-05**: Documentation reflects COCOSEARCH_* naming throughout

### Language Chunking

- [x] **LANG-01**: Each language (HCL, Dockerfile, Bash) has its own module file
- [x] **LANG-02**: Language modules follow consistent interface (separator, metadata extractor)
- [x] **LANG-03**: Registry pattern allows discovering available language handlers
- [x] **LANG-04**: Adding new language requires only creating new module file
- [x] **LANG-05**: Existing chunking behavior preserved (no regression)

### Documentation

- [x] **DOCS-01**: README.md has clickable table of contents
- [x] **DOCS-02**: TOC covers all major sections

## Future Requirements

Deferred to later milestones.

### Configuration Extensions

- **CONFIG-EXT-01**: Config inheritance (base + override files)
- **CONFIG-EXT-02**: Per-directory config overrides

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| Backward compatibility env var aliases | Hard cutover preferred for clean break |
| Config inheritance | Complexity vs value tradeoff |
| Per-directory config overrides | Reassess if demand emerges |

## Traceability

Which phases cover which requirements.

| Requirement | Phase | Status |
|-------------|-------|--------|
| CONFIG-01 | Phase 19 | Complete |
| CONFIG-02 | Phase 19 | Complete |
| CONFIG-03 | Phase 19 | Complete |
| ENV-01 | Phase 20 | Complete |
| ENV-02 | Phase 20 | Complete |
| ENV-03 | Phase 20 | Complete |
| ENV-04 | Phase 20 | Complete |
| ENV-05 | Phase 20 | Complete |
| LANG-01 | Phase 21 | Complete |
| LANG-02 | Phase 21 | Complete |
| LANG-03 | Phase 21 | Complete |
| LANG-04 | Phase 21 | Complete |
| LANG-05 | Phase 21 | Complete |
| DOCS-01 | Phase 22 | Complete |
| DOCS-02 | Phase 22 | Complete |

**Coverage:**
- v1.5 requirements: 15 total
- Mapped to phases: 15
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 15 of 15 v1.5 requirements

**Adjusted:** None — all requirements implemented as specified

**Dropped:** None

---
*Archived: 2026-02-01 as part of v1.5 milestone completion*
